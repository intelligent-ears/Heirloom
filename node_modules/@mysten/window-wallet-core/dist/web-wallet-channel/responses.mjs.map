{"version":3,"file":"responses.mjs","names":[],"sources":["../../src/web-wallet-channel/responses.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport * as v from 'valibot';\n\nexport const ResponseData = v.variant('type', [\n\tv.object({\n\t\ttype: v.literal('connect'),\n\t\tsession: v.string('`session` is required'),\n\t}),\n\tv.object({\n\t\ttype: v.literal('sign-transaction'),\n\t\tbytes: v.string(),\n\t\tsignature: v.string(),\n\t}),\n\tv.object({\n\t\ttype: v.literal('sign-and-execute-transaction'),\n\t\tbytes: v.string(),\n\t\tsignature: v.string(),\n\t\tdigest: v.string(),\n\t\teffects: v.string(),\n\t}),\n\tv.object({\n\t\ttype: v.literal('sign-personal-message'),\n\t\tbytes: v.string(),\n\t\tsignature: v.string(),\n\t}),\n]);\nexport type ResponseDataType = v.InferOutput<typeof ResponseData>;\n\nexport const ResponsePayload = v.variant('type', [\n\tv.object({\n\t\ttype: v.literal('reject'),\n\t\treason: v.optional(v.string('`reason` must be a string')),\n\t}),\n\tv.object({\n\t\ttype: v.literal('resolve'),\n\t\tdata: ResponseData,\n\t}),\n]);\nexport type ResponsePayloadType = v.InferOutput<typeof ResponsePayload>;\n\nexport const Response = v.object({\n\tid: v.pipe(v.string(), v.uuid()),\n\tsource: v.literal('web-wallet-channel'),\n\tpayload: ResponsePayload,\n\tversion: v.literal('1'),\n});\nexport type ResponseType = v.InferOutput<typeof Response>;\n\nexport type ResponseTypes = {\n\t[P in ResponseDataType as P['type']]: P;\n};\n"],"mappings":";;;AAKA,MAAa,eAAe,EAAE,QAAQ,QAAQ;CAC7C,EAAE,OAAO;EACR,MAAM,EAAE,QAAQ,UAAU;EAC1B,SAAS,EAAE,OAAO,wBAAwB;EAC1C,CAAC;CACF,EAAE,OAAO;EACR,MAAM,EAAE,QAAQ,mBAAmB;EACnC,OAAO,EAAE,QAAQ;EACjB,WAAW,EAAE,QAAQ;EACrB,CAAC;CACF,EAAE,OAAO;EACR,MAAM,EAAE,QAAQ,+BAA+B;EAC/C,OAAO,EAAE,QAAQ;EACjB,WAAW,EAAE,QAAQ;EACrB,QAAQ,EAAE,QAAQ;EAClB,SAAS,EAAE,QAAQ;EACnB,CAAC;CACF,EAAE,OAAO;EACR,MAAM,EAAE,QAAQ,wBAAwB;EACxC,OAAO,EAAE,QAAQ;EACjB,WAAW,EAAE,QAAQ;EACrB,CAAC;CACF,CAAC;AAGF,MAAa,kBAAkB,EAAE,QAAQ,QAAQ,CAChD,EAAE,OAAO;CACR,MAAM,EAAE,QAAQ,SAAS;CACzB,QAAQ,EAAE,SAAS,EAAE,OAAO,4BAA4B,CAAC;CACzD,CAAC,EACF,EAAE,OAAO;CACR,MAAM,EAAE,QAAQ,UAAU;CAC1B,MAAM;CACN,CAAC,CACF,CAAC;AAGF,MAAa,WAAW,EAAE,OAAO;CAChC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,MAAM,CAAC;CAChC,QAAQ,EAAE,QAAQ,qBAAqB;CACvC,SAAS;CACT,SAAS,EAAE,QAAQ,IAAI;CACvB,CAAC"}